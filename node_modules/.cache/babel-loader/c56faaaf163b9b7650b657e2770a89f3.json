{"ast":null,"code":"var _jsxFileName = \"/Users/zobi13/Desktop/django_react_auth/frontend/src/pages/LoginPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport axiosInstance from '../axios';\nimport { useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst LoginPage = () => {\n  _s();\n\n  const history = useHistory();\n  const initialFormData = Object.freeze({\n    email: '',\n    password: ''\n  });\n  const [formData, updateFormData] = useState(initialFormData);\n\n  const handleChange = e => {\n    updateFormData({ ...formData,\n      [e.target.name]: e.target.value.trim()\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    console.log(formData);\n    axiosInstance.post(`token/`, {\n      email: formData.email,\n      password: formData.password\n    }).then(res => {\n      localStorage.setItem('access_token', res.data.access);\n      localStorage.setItem('refresh_token', res.data.refresh);\n      axiosInstance.defaults.headers['Authorization'] = 'JWT ' + localStorage.getItem('access_token');\n      history.push('/'); //console.log(res);\n      //console.log(res.data);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Sign In\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Username\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        className: \"form-control\",\n        placeholder: \"Enter email\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        className: \"form-control\",\n        placeholder: \"Enter password\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"custom-control custom-checkbox\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          className: \"custom-control-input\",\n          id: \"customCheck1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"custom-control-label\",\n          htmlFor: \"customCheck1\",\n          children: \"Remember me\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary btn-block\",\n      onClick: handleSubmit,\n      children: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"forgot-password text-right\",\n      children: [\"Forgot \", /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#\",\n        children: \"password?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 18\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n};\n\n_s(LoginPage, \"zha95LWxvcA5qyBTz4+b+qpysnQ=\", false, function () {\n  return [useHistory];\n});\n\n_c = LoginPage;\nexport default LoginPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"sources":["/Users/zobi13/Desktop/django_react_auth/frontend/src/pages/LoginPage.js"],"names":["React","useState","axiosInstance","useHistory","LoginPage","history","initialFormData","Object","freeze","email","password","formData","updateFormData","handleChange","e","target","name","value","trim","handleSubmit","preventDefault","console","log","post","then","res","localStorage","setItem","data","access","refresh","defaults","headers","getItem","push"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport axiosInstance from '../axios';\nimport { useHistory } from 'react-router-dom';\n\nconst LoginPage = () => {\n  \n  const history = useHistory();\n\tconst initialFormData = Object.freeze({\n\t\temail: '',\n\t\tpassword: '',\n\t});\n\n\tconst [formData, updateFormData] = useState(initialFormData);\n\n\tconst handleChange = (e) => {\n\t\tupdateFormData({\n\t\t\t...formData,\n\t\t\t[e.target.name]: e.target.value.trim(),\n\t\t});\n\t};\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\t\tconsole.log(formData);\n\n\t\taxiosInstance\n\t\t\t.post(`token/`, {\n\t\t\t\temail: formData.email,\n\t\t\t\tpassword: formData.password,\n\t\t\t})\n\t\t\t.then((res) => {\n\t\t\t\tlocalStorage.setItem('access_token', res.data.access);\n\t\t\t\tlocalStorage.setItem('refresh_token', res.data.refresh);\n\t\t\t\taxiosInstance.defaults.headers['Authorization'] =\n\t\t\t\t\t'JWT ' + localStorage.getItem('access_token');\n\t\t\t\thistory.push('/');\n\t\t\t\t//console.log(res);\n\t\t\t\t//console.log(res.data);\n\t\t\t});\n\t};\n\n\n  return (\n    <form>\n      <h3>Sign In</h3>\n      <div className=\"form-group\">\n          <label>Username</label>\n          <input type=\"email\" className=\"form-control\" placeholder=\"Enter email\" onChange={handleChange}/>\n      </div>\n      <div className=\"form-group\">\n          <label>Password</label>\n          <input type=\"password\" className=\"form-control\" placeholder=\"Enter password\" onChange={handleChange}/>\n      </div>\n      <div className=\"form-group\">\n          <div className=\"custom-control custom-checkbox\">\n              <input type=\"checkbox\" className=\"custom-control-input\" id=\"customCheck1\" />\n              <label className=\"custom-control-label\" htmlFor=\"customCheck1\">Remember me</label>\n          </div>\n      </div>\n      <button type=\"submit\" className=\"btn btn-primary btn-block\" onClick={handleSubmit}>Submit</button>\n      <p className=\"forgot-password text-right\">\n          Forgot <a href=\"#\">password?</a>\n      </p>\n    </form>\n  )\n}\n\nexport default LoginPage\n"]},"metadata":{},"sourceType":"module"}